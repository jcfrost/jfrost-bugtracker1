@model jfrost_bugtracker.Models.Tickets

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>Tickets</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Ticket
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Title)
        </dd>

        <dt>
            Description
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            Project
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Project.Name)
        </dd>

        <dt>
            Priority
        </dt>
        <dd>
            @Html.DisplayFor(model => model.TicketPriority.Name)
        </dd>

        <dt>
            Status
        </dt>
        <dd>
            @Html.DisplayFor(model => model.TicketStatus.Name)
        </dd>

        <dt>
            Type
        </dt>
        <dd>
            @Html.DisplayFor(model => model.TicketType.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Created)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Created)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Updated)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Updated)
        </dd>

        <dt>
            Owner
        </dt>
        <dd>
            @Html.DisplayFor(model => model.OwnerUser.DisplayName)
        </dd>

        <dt>
            AssignedTo
        </dt>
        <dd>
            @Html.DisplayFor(model => model.AssignedToUser.DisplayName)
        </dd>

    </dl>
</div>
<p>
    @*@Html.ActionLink("Edit", "Edit", new { id = Model.Id }) |
        @Html.ActionLink("Back to List", "Index")*@
    @if (User.IsInRole("Administrator"))
    {
        <a class="btn btn-default" href="@Url.Action("Edit", "Tickets", new { id = Model.Id })">Edit</a>
    }
    @*<a class="btn btn-default" href="@Url.Action("Delete", "Tickets", new { id = Model.Id })">Delete</a>*@ <!--**Tickets cannot be deleted!**-->
    @if (User.IsInRole("Administrator") || User.IsInRole("Project Manager") || User.IsInRole("Developer"))
    {
        <a class="btn btn-default" href="@Url.Action("TicketsOnMyProjects", "Tickets")">Back to List of TICKETS FOR MY PROJECTS</a>
        @*<a class="btn btn-default" href="@Url.Action("TicketsAssigned", "Tickets")">See Tickets Assigned to Me</a>*@ <!--Developer: Tickets a developer is assigned to-->
        @*<a class="btn btn-default" href="@Url.Action("Index", "Tickets")">See Tickets Associated with My Projects</a>*@ <!--PM & Developer: Tickets associated with any of a developer's projects-->
    }
    @if (User.IsInRole("Submitter"))
    {
        <a class="btn btn-default" href="@Url.Action("TicketsOwned", "Tickets")">Back to List of MY OWNED TICKETS</a>
    }
    @if (User.IsInRole("Developer"))
    {
        <a class="btn btn-default" href="@Url.Action("TicketsAssigned", "Tickets")">Back to List of MY ASSIGNED TICKETS</a>
    }
    @*@Html.ActionLink("Back to List", "Index")*@
    <a class="btn btn-default" href="@Url.Action("Index", "Tickets")">Back to List of ALL TICKETS</a>
</p>
